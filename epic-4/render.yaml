services:
  - type: web
    name: epic4-docs-automation
    runtime: docker
    plan: free
    dockerfilePath: ./Dockerfile
    envVars:
      # GitHub Configuration
      - key: GITHUB_TOKEN
        sync: false
      - key: REPO_OWNER
        sync: false
      - key: REPO_NAME
        sync: false
      - key: TARGET_BRANCH
        value: main

      # Cloudflare R2 Configuration (Optional - for cloud storage)
      - key: R2_ACCOUNT_ID
        sync: false
      - key: R2_ACCESS_KEY_ID
        sync: false
      - key: R2_SECRET_ACCESS_KEY
        sync: false
      - key: DOCS_BUCKET_PATH
        sync: false

      # Python Configuration
      - key: PYTHONDONTWRITEBYTECODE
        value: "1"
      - key: PYTHONUNBUFFERED
        value: "1"
    healthCheckPath: /health
    disk:
      name: artifacts
      mountPath: /app/artifacts
      sizeGB: 1
